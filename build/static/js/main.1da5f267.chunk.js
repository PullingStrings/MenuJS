(this["webpackJsonpreact-restaurant-menu"]=this["webpackJsonpreact-restaurant-menu"]||[]).push([[0],{22:function(e,t,r){e.exports=r(33)},31:function(e){e.exports=JSON.parse('[{"courseType":[0],"id":0,"title":"Soup","price":3},{"courseType":[0],"id":1,"title":"P\xe2t\xe9","price":5},{"courseType":[0],"id":2,"title":"Bruschetta","price":4.5},{"courseType":[0],"id":3,"title":"Prawn cocktail","price":6},{"courseType":[0],"id":4,"title":"Steak","price":18},{"courseType":[0],"id":5,"title":"Meatballs","price":11.5},{"courseType":[1],"id":6,"title":"Salmon fillet","price":14},{"courseType":[1],"id":7,"title":"Vegetarian lasagna","price":12},{"courseType":[1],"id":8,"title":"Sticky toffee","price":18},{"courseType":[1],"id":9,"title":"Cheesecake","price":4.5},{"courseType":[1,2],"id":10,"title":"Lobster Bisque","price":4},{"courseType":[2],"id":11,"title":"Ice cream","price":3.5}]')},32:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(11),s=r.n(c),i=r(4),o=r(5),l=r(7),u=r(6);function p(e,t,r){return e.findIndex((function(e){return e.id===t}))}var m=r(57),h=r(56),d=r(54),f=r(58),v=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(){e.props.itemHandler(e.props.id,e.props.itemTitle,e.props.itemPrice)},e}return Object(o.a)(r,[{key:"render",value:function(){return n.a.createElement(m.a,{className:"".concat(this.props.className," ").concat(this.props.selected?"-selected":"")},n.a.createElement(h.a,{onClick:this.handleClick},n.a.createElement(d.a,null,n.a.createElement(f.a,{gutterBottom:!0,variant:"h6",component:"h2",className:"item-title"},this.props.itemTitle),n.a.createElement(f.a,{variant:"body2",component:"p",className:"item-info"},"Price:",this.props.itemPrice),n.a.createElement(f.a,{variant:"body2",component:"p",className:"item-desc"}))))}}]),r}(a.Component),y=r(55),b=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(t,r,a){e.props.itemHandler(t,r,a)},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return this.props.courseItems.map((function(t){return n.a.createElement(y.a,{item:!0,xs:4,key:t.id},n.a.createElement(v,{id:t.id,itemTitle:t.title,itemPrice:t.price,itemHandler:e.handleClick,className:"order-item",selected:p(e.props.selectedItems[e.props.course],t.id,t.price)>=0}))}))}}]),r}(a.Component),O=["Starter","Main","Desserts"];var k=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{className:"order-summary-view"},n.a.createElement("h2",{className:"title"},this.props.courseTitle),n.a.createElement("div",null,this.props.courseItems.map((function(e){return n.a.createElement("h3",{key:e.id},"  Meal: ",e.title,n.a.createElement("br",null),"Price: ",e.price)}))))}}]),r}(a.Component),j=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props.selectedItems;return Object.keys(e).map((function(t){if(0!==e[t].length){for(var r=[],a=0;a<e[t].length;a++)r.push(e[t][a]);return n.a.createElement(k,{key:t,courseTitle:(c=t,O[c]),courseItems:r})}var c}))}}]),r}(a.Component),C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).fetchData=function(){var e=n.state.selectedItems,t=r(31),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.filter((function(e){return e.courseType.includes(t)}));return r}(t,n.props.course);0===Object.entries(e).length&&t.map((function(t){return e[t.courseType[0]]=[]})),n.setState({courseItems:a,selectedItems:e})},n.handleItems=function(e,t,r){var a=n.state.selectedItems,c=n.props.course,s={id:e,title:t,price:r};if(0!==a[c].length){var i=a[c].findIndex((function(t){return t.id===e}));p(a[c],e);if(console.log(r+=0),i>=0)return a[c].splice(i,1),void n.setState({selectedItems:a})}a[c].push(s),n.setState({selectedItems:a})},n.handleNextCourse=function(){var e=n.state.selectedItems,t=n.props.course;if(Object.keys(e).length-1!==t){if(1===t&&0===e[t].length)return void alert("Select at least one item from this course.");n.props.changeCourse(t+1)}else n.props.summaryHandler()},n.handleChangeOrder=function(){n.props.changeCourse(),n.props.summaryHandler()},n.state={courseItems:[],selectedItems:{}},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.fetchData()}},{key:"render",value:function(){return this.props.summary?n.a.createElement("div",{className:"summary-container"},n.a.createElement(j,{selectedItems:this.state.selectedItems}),n.a.createElement("button",{className:"button default",onClick:this.handleChangeOrder},"Change order")):n.a.createElement("div",{className:"order-container"},n.a.createElement(y.a,{container:!0,spacing:3},n.a.createElement(b,Object.assign({},this.state,{course:this.props.course,itemHandler:this.handleItems}))),n.a.createElement("button",{className:"button default",onClick:this.handleNextCourse},Object.keys(this.state.selectedItems).length-1!==this.props.course?"Next course":"Show complete order"))}}]),a}(a.Component),g=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(){e.props.clickHandler(e.props.course)},e}return Object(o.a)(r,[{key:"render",value:function(){return n.a.createElement("button",{className:"button ".concat(this.props.className," ").concat(this.props.active?"-active":""," ").concat(this.props.disabled?"-disabled":""),onClick:this.handleClick},this.props.courseName)}}]),r}(a.Component),E=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(t){e.props.clickHandler(t)},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return this.props.courses.map((function(t,r){return n.a.createElement(g,{key:r,course:r,courseName:t,clickHandler:e.handleClick,className:"steps",active:e.props.activeCourse===r,disabled:e.props.activeCourse<r})}))}}]),r}(a.Component),N=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(t){e.props.course>t&&e.props.changeCourse(t)},e}return Object(o.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{className:"steps-container ".concat(this.props.summary?"-hide":"")},n.a.createElement(E,{courses:O,clickHandler:this.handleClick,activeCourse:this.props.course}))}}]),r}(a.Component),I=(r(32),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).handleCourse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;a.setState({course:e})},a.handleSummary=function(){a.setState({summary:!a.state.summary})},a.state={course:0,summary:!1},a}return Object(o.a)(r,[{key:"render",value:function(){return n.a.createElement("main",{className:"app"},n.a.createElement("h1",{className:"title"},this.state.summary?"Your order: ":"Restaurant Menu"),n.a.createElement(N,Object.assign({},this.state,{changeCourse:this.handleCourse,summaryHandler:this.handleSummary})),n.a.createElement(C,Object.assign({},this.state,{changeCourse:this.handleCourse,summaryHandler:this.handleSummary})))}}]),r}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.1da5f267.chunk.js.map